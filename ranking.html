<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Article Ranking</title>
    <link rel="stylesheet" href="article-styles.css">
</head>
<body>
<script>
    function post_ranking() {

        var http = new XMLHttpRequest();

        var rk1 = document.getElementById("article1_ranking").value;
        var rk2 = document.getElementById("article2_ranking").value;
        var rk3 = document.getElementById("article3_ranking").value;
        var rk4 = document.getElementById("article4_ranking").value;
        var rk5 = document.getElementById("article5_ranking").value;

        var params = "rank1="+rk1+"&rank2="+rk2+"&rank3="+rk3+"&rank4="+rk4+"&rank5="+rk5;

        http.open("POST", "ranking.php", true);
        http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        http.onreadystatechange = function() {
            if(http.readyState === 4 && http.status === 200) {
                var rankingDiv = document.getElementById("ranking");
                var reloadButton = document.createElement("button");
                var value = document.createTextNode("Rank Again");

                rankingDiv.innerHTML = "<h1>Article Ranking</h1>";

                rankingDiv.innerHTML += "<p>"+http.responseText+"</p>";
                reloadButton.setAttribute("id", "reload_button");
                reloadButton.setAttribute("onclick", "location.href='ranking.html';");
                reloadButton.appendChild(value);
                rankingDiv.appendChild(reloadButton);
                rankingDiv.innerHTML += "<br><br>";
            }
        };

        http.send(params);
    }
</script>

<div id="ranking">
    <h1>Article Ranking</h1>

    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p>
    <select class="article_rankings" id="article1_ranking">
        <option value="1" selected>1 star</option>
        <option value="2">2 stars</option>
        <option value="3">3 stars</option>
        <option value="4">4 stars</option>
        <option value="5">5 stars</option>
    </select> <br><br>

    <p>Praesent bibendum nec velit a fringilla. Nulla facilisi</p>
    <select class="article_rankings" id="article2_ranking">
        <option value="1" selected>1 star</option>
        <option value="2">2 stars</option>
        <option value="3">3 stars</option>
        <option value="4">4 stars</option>
        <option value="5">5 stars</option>
    </select> <br><br>

    <p>Vestibulum posuere orci ullamcorper nisi porta, sit amet tempus nibh porta</p>
    <select class="article_rankings" id="article3_ranking">
        <option value="1" selected>1 star</option>
        <option value="2">2 stars</option>
        <option value="3">3 stars</option>
        <option value="4">4 stars</option>
        <option value="5">5 stars</option>
    </select> <br><br>

    <p>Maecenas venenatis lorem ut erat dictum, sed varius est porta</p>
    <select class="article_rankings" id="article4_ranking">
        <option value="1" selected>1 star</option>
        <option value="2">2 stars</option>
        <option value="3">3 stars</option>
        <option value="4">4 stars</option>
        <option value="5">5 stars</option>
    </select> <br><br>

    <p>Nulla nibh erat, pharetra at ultricies nec, tincidunt luctus arcu</p>
    <select class="article_rankings" id="article5_ranking">
        <option value="1" selected>1 star</option>
        <option value="2">2 stars</option>
        <option value="3">3 stars</option>
        <option value="4">4 stars</option>
        <option value="5">5 stars</option>
    </select> <br><br>

    <button id="post_ranking" onclick="post_ranking();">Submit</button><br><br>
</div>

<div class="links">
    <a class="prev" href="page5.html">Previous Page</a>
    <a id="first" href="index.html">Go to First Page</a>
</div>
</body>
</html>